{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/constants.js","webpack:///./src/components/canvas/index.js","webpack:///./src/components/palette/index.js","webpack:///./src/components/toolbox/index.js","webpack:///./src/components/PixelState.js","webpack:///./src/index.js","webpack:///./src/components/App.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TOOLS","PEN","ERASER","BUCKET","REPLACE","LIGHTEN","KEY_BINDS","B","E","P","R","L","Canvas","constructor","pixelCount","getColor","getActiveTool","getPixelCount","this","pixels","Array","map","fill","pixelSize","addPixel","setPaint","erasePixel","paintBucket","eventHandler","floodFill","getPixelSize","replaceColor","setPixels","showCoords","lighten","paint","HANDLERS_MAP","[object Object]","subscribe","publisher","addSubscriber","clearCanvas","document","querySelector","width","e","type","X","Math","floor","pageX","target","offsetLeft","Y","pageY","offsetTop","updateState","drawPixels","context","getElementById","getContext","j","fillStyle","fillRect","canvas","canvasWidth","canvasHeight","height","clearRect","initialColor","paintColor","length","innerText","H","g","b","cmin","min","cmax","max","delta","h","round","abs","toFixed","x","toString","addCanvas","createElement","id","addEventListener","style","border","appendChild","coords","Palette","onColorChange","color","addPalette","palette","primaryColor","body","Toolbox","setActiveTool","setPixelCount","activeTool","toUpperCase","which","addToolbox","sizeInput","label","setAttribute","innerHTML","toolbox","pen","eraser","bucket","PixelState","subscribers","pixelState","subscriber","push","updatedState","localStorage","setItem","JSON","stringify","processLoad","getItem","parse","processUnload","removeItem","htmlContents","documentElement","start","window"],"mappings":"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","file":"app.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/* eslint-disable import/prefer-default-export */\nexport const TOOLS = {\n  PEN: 'pen',\n  ERASER: 'eraser',\n  BUCKET: 'bucket',\n  REPLACE: 'replace',\n  LIGHTEN: 'lighten',\n};\n\nexport const KEY_BINDS = {\n  B: 98,\n  E: 101,\n  P: 112,\n  R: 114,\n  L: 108,\n};\n","/* eslint-disable no-plusplus */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable no-mixed-operators */\nimport { TOOLS } from '../../constants';\n\nexport default class Canvas {\n  constructor(pixelCount, getColor, getActiveTool, getPixelCount) {\n    this.pixels = [...Array(pixelCount)].map(() => Array(pixelCount).fill('transparent'));\n    this.getColor = getColor;\n    this.getPixelCount = getPixelCount;\n    this.pixelCount = pixelCount;\n    this.getActiveTool = getActiveTool;\n    this.pixelSize = 0;\n    this.addPixel = this.addPixel.bind(this);\n    this.setPaint = this.setPaint.bind(this);\n    this.erasePixel = this.erasePixel.bind(this);\n    this.paintBucket = this.paintBucket.bind(this);\n    this.eventHandler = this.eventHandler.bind(this);\n    this.floodFill = this.floodFill.bind(this);\n    this.getPixelSize = this.getPixelSize.bind(this);\n    this.replaceColor = this.replaceColor.bind(this);\n    this.setPixels = this.setPixels.bind(this);\n    this.showCoords = this.showCoords.bind(this);\n    this.lighten = this.lighten.bind(this);\n    this.paint = false;\n    this.HANDLERS_MAP = {\n      [TOOLS.PEN]: this.addPixel,\n      [TOOLS.ERASER]: this.erasePixel,\n      [TOOLS.BUCKET]: this.paintBucket,\n      [TOOLS.REPLACE]: this.replaceColor,\n      [TOOLS.LIGHTEN]: this.lighten,\n    };\n  }\n\n  subscribe(publisher) {\n    publisher.addSubscriber(this);\n    this.publisher = publisher;\n  }\n\n  // notify(pixelState) {\n  //   this.draw(pixelState);\n  // }\n\n  setPixels(pixels) {\n    this.pixels = pixels;\n  }\n\n  setPaint() {\n    if (this.paint) {\n      this.paint = false;\n    } else {\n      this.paint = true;\n    }\n  }\n\n  getPixelSize() {\n    if (this.pixelCount !== this.getPixelCount()) {\n      this.pixels = [...Array(this.getPixelCount())].map(() => Array(this.getPixelCount()).fill('transparent'));\n      this.clearCanvas();\n      this.pixelCount = this.getPixelCount();\n    }\n    const canvas = document.querySelector('canvas');\n    return +canvas.width / this.getPixelCount();\n  }\n\n  addPixel(e) {\n    if (this.paint === false && e.type === 'mousemove') return;\n    const X = Math.floor((e.pageX - e.target.offsetLeft) / this.getPixelSize());\n    const Y = Math.floor((e.pageY - e.target.offsetTop) / this.getPixelSize());\n    this.pixels[X][Y] = this.getColor();\n    this.publisher.updateState(this.pixels);\n    this.clearCanvas();\n    this.drawPixels();\n  }\n\n  drawPixels() {\n    const context = document.getElementById('canvas').getContext('2d');\n    for (let i = 0; i < this.pixelCount; i++) {\n      for (let j = 0; j < this.pixelCount; j++) {\n        context.fillStyle = this.pixels[i][j];\n        const X = i * this.getPixelSize();\n        const Y = j * this.getPixelSize();\n        context.fillRect(X, Y, this.getPixelSize(), this.getPixelSize());\n      }\n    }\n  }\n\n  clearCanvas() {\n    const canvas = document.getElementById('canvas');\n    const context = canvas.getContext('2d');\n    const canvasWidth = canvas.width;\n    const canvasHeight = canvas.height;\n    context.clearRect(0, 0, canvasWidth, canvasHeight);\n  }\n\n  erasePixel(e) {\n    if (this.paint === false && e.type === 'mousemove') return;\n    const X = Math.floor((e.pageX - e.target.offsetLeft) / this.getPixelSize());\n    const Y = Math.floor((e.pageY - e.target.offsetTop) / this.getPixelSize());\n    this.pixels[X][Y] = 'transparent';\n    this.publisher.updateState(this.pixels);\n    this.clearCanvas();\n    this.drawPixels();\n  }\n\n  paintBucket(e) {\n    if (this.paint === false && e.type === 'mousemove') return;\n    const X = Math.floor((e.pageX - e.target.offsetLeft) / this.getPixelSize());\n    const Y = Math.floor((e.pageY - e.target.offsetTop) / this.getPixelSize());\n    if (this.pixels[X][Y] === this.getColor()) return;\n    this.floodFill(X, Y, this.pixels[X][Y], this.getColor());\n    this.publisher.updateState(this.pixels);\n    this.clearCanvas();\n    this.drawPixels();\n  }\n\n  floodFill(X, Y, initialColor, paintColor) {\n    if (X > this.pixels.length - 1 || X < 0 || Y > this.pixels.length - 1 || Y < 0) return;\n    if (this.pixels[X][Y] !== initialColor) return;\n    this.pixels[X][Y] = paintColor;\n    this.floodFill(X - 1, Y, initialColor, paintColor);\n    this.floodFill(X + 1, Y, initialColor, paintColor);\n    this.floodFill(X, Y - 1, initialColor, paintColor);\n    this.floodFill(X, Y + 1, initialColor, paintColor);\n  }\n\n  replaceColor(e) {\n    if (this.paint === false && e.type === 'mousemove') return;\n    const X = Math.floor((e.pageX - e.target.offsetLeft) / this.getPixelSize());\n    const Y = Math.floor((e.pageY - e.target.offsetTop) / this.getPixelSize());\n    const initialColor = this.pixels[X][Y];\n    for (let i = 0; i < this.pixelCount; i++) {\n      for (let j = 0; j < this.pixelCount; j++) {\n        if (this.pixels[i][j] === initialColor) {\n          this.pixels[i][j] = this.getColor();\n        }\n      }\n    }\n    this.publisher.updateState(this.pixels);\n    this.clearCanvas();\n    this.drawPixels();\n  }\n\n  showCoords(e) {\n    const X = Math.floor((e.pageX - e.target.offsetLeft) / this.getPixelSize());\n    const Y = Math.floor((e.pageY - e.target.offsetTop) / this.getPixelSize());\n    const coords = document.getElementById('coords');\n    coords.innerText = `${X + 1}:${Y + 1}`;\n  }\n\n  lighten(e) {\n    if (this.paint === false && e.type === 'mousemove') return;\n    const X = Math.floor((e.pageX - e.target.offsetLeft) / this.getPixelSize());\n    const Y = Math.floor((e.pageY - e.target.offsetTop) / this.getPixelSize());\n    const H = this.pixels[X][Y];\n    let r = 0;\n    let g = 0;\n    let b = 0;\n    if (H.length === 4) {\n      r = `0x${H[1]}${H[1]}`;\n      g = `0x${H[2]}${H[2]}`;\n      b = `0x${H[3]}${H[3]}`;\n    } else if (H.length === 7) {\n      r = `0x${H[1]}${H[2]}`;\n      g = `0x${H[3]}${H[4]}`;\n      b = `0x${H[5]}${H[6]}`;\n    }\n    r /= 255;\n    g /= 255;\n    b /= 255;\n    const cmin = Math.min(r, g, b);\n    const cmax = Math.max(r, g, b);\n    const delta = cmax - cmin;\n    let h = 0;\n    let s = 0;\n    let l = 0;\n    if (delta === 0) h = 0;\n    else if (cmax === r) h = ((g - b) / delta) % 6;\n    else if (cmax === g) h = (b - r) / delta + 2;\n    else h = (r - g) / delta + 4;\n    h = Math.round(h * 60);\n    if (h < 0) h += 360;\n    l = (cmax + cmin) / 2;\n    s = delta === 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n    if (l <= 90) l += 10;\n    s /= 100;\n    l /= 100;\n    const c = (1 - Math.abs(2 * l - 1)) * s;\n    const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n    const m = l - c / 2;\n    r = 0;\n    g = 0;\n    b = 0;\n    if (h >= 0 && h < 60) {\n      r = c;\n      g = x;\n      b = 0;\n    } else if (h >= 60 && h < 120) {\n      r = x;\n      g = c;\n      b = 0;\n    } else if (h >= 120 && h < 180) {\n      r = 0;\n      g = c;\n      b = x;\n    } else if (h >= 180 && h < 240) {\n      r = 0;\n      g = x;\n      b = c;\n    } else if (h >= 240 && h < 300) {\n      r = x;\n      g = 0;\n      b = c;\n    } else if (h >= 300 && h < 360) {\n      r = c;\n      g = 0;\n      b = x;\n    }\n    r = Math.round((r + m) * 255).toString(16);\n    g = Math.round((g + m) * 255).toString(16);\n    b = Math.round((b + m) * 255).toString(16);\n    if (r.length === 1) r = `0${r}`;\n    if (g.length === 1) g = `0${g}`;\n    if (b.length === 1) b = `0${b}`;\n    this.pixels[X][Y] = `#${r}${g}${b}`;\n    this.publisher.updateState(this.pixels);\n    this.clearCanvas();\n    this.drawPixels();\n  }\n\n  eventHandler(e) {\n    return this.HANDLERS_MAP[this.getActiveTool()](e);\n  }\n\n  addCanvas() {\n    const canvas = document.createElement('canvas');\n    canvas.id = 'canvas';\n    canvas.addEventListener('click', this.eventHandler);\n    canvas.addEventListener('mousedown', this.setPaint);\n    canvas.addEventListener('mouseup', this.setPaint);\n    canvas.addEventListener('mousemove', this.eventHandler);\n    canvas.addEventListener('mouseleave', () => { this.paint = false; });\n    canvas.addEventListener('mousemove', this.showCoords);\n    canvas.width = '500';\n    canvas.height = '500';\n    canvas.style.border = '1px solid black';\n    document.querySelector('body').appendChild(canvas);\n    const coords = document.createElement('label');\n    coords.id = 'coords';\n    canvas.addEventListener('mouseleave', () => { coords.innerText = ''; });\n    document.querySelector('body').appendChild(coords);\n  }\n}\n","/* eslint-disable class-methods-use-this */\nexport default class Palette {\n  constructor(onColorChange) {\n    this.onColorChange = (e) => {\n      const color = e.target.value;\n      onColorChange(color);\n    };\n  }\n\n  addPalette() {\n    const palette = document.createElement('div');\n    const primaryColor = document.createElement('input');\n    palette.id = 'palette';\n    primaryColor.type = 'color';\n    primaryColor.id = 'primary-color';\n    primaryColor.addEventListener('change', this.onColorChange);\n    const body = document.querySelector('body');\n    palette.appendChild(primaryColor);\n    body.appendChild(palette);\n  }\n}\n","/* eslint-disable consistent-return */\n/* eslint-disable func-names */\n/* eslint-disable class-methods-use-this */\nimport { TOOLS, KEY_BINDS } from '../../constants';\n\nexport default class Toolbox {\n  constructor(setActiveTool, setPixelCount) {\n    this.setActiveTool = function (e) {\n      let activeTool = null;\n      if (e.type === 'click') {\n        activeTool = TOOLS[`${e.target.id}`.toUpperCase()];\n      } else {\n        switch (e.which) {\n          case KEY_BINDS.P:\n            activeTool = TOOLS.PEN;\n            break;\n          case KEY_BINDS.E:\n            activeTool = TOOLS.ERASER;\n            break;\n          case KEY_BINDS.B:\n            activeTool = TOOLS.BUCKET;\n            break;\n          case KEY_BINDS.R:\n            activeTool = TOOLS.REPLACE;\n            break;\n          case KEY_BINDS.L:\n            activeTool = TOOLS.LIGHTEN;\n            break;\n          default:\n            return null;\n        }\n      }\n      setActiveTool(activeTool);\n    };\n    this.setPixelCount = function (e) {\n      const pixelCount = e.target.value;\n      setPixelCount(pixelCount);\n    };\n  }\n\n  addToolbox() {\n    const sizeInput = document.createElement('input');\n    const label = document.createElement('Label');\n    label.setAttribute('for', sizeInput);\n    label.innerHTML = 'Canvas side size: ';\n    sizeInput.id = 'size';\n    sizeInput.type = 'number';\n    sizeInput.min = 1;\n    sizeInput.max = 500;\n    sizeInput.value = 32;\n    const toolbox = document.createElement('div');\n    const pen = document.createElement('div');\n    const eraser = document.createElement('div');\n    const bucket = document.createElement('div');\n    const replaceColor = document.createElement('div');\n    const lighten = document.createElement('div');\n    toolbox.id = 'toolbox';\n    pen.id = 'pen';\n    eraser.id = 'eraser';\n    bucket.id = 'bucket';\n    replaceColor.id = 'replace';\n    lighten.id = 'lighten';\n    pen.innerText = 'Pen';\n    eraser.innerText = 'Eraser';\n    bucket.innerText = 'Bucket';\n    replaceColor.innerText = 'Replace';\n    lighten.innerText = 'Lighten';\n    sizeInput.addEventListener('change', this.setPixelCount);\n    toolbox.addEventListener('click', this.setActiveTool);\n    toolbox.appendChild(pen);\n    toolbox.appendChild(eraser);\n    toolbox.appendChild(bucket);\n    toolbox.appendChild(replaceColor);\n    toolbox.appendChild(lighten);\n    document.querySelector('body').addEventListener('keypress', this.setActiveTool);\n    document.querySelector('body').appendChild(label);\n    document.querySelector('body').appendChild(sizeInput);\n    document.querySelector('body').appendChild(toolbox);\n  }\n}\n","export default class PixelState {\n  constructor() {\n    this.subscribers = [];\n    this.pixelState = [];\n  }\n\n  addSubscriber(subscriber) {\n    this.subscribers.push(subscriber);\n  }\n\n  updateState(updatedState) {\n    this.pixelState = updatedState;\n    localStorage.setItem('pixelState', JSON.stringify(this.pixelState));\n    // this.subscribers.forEach(subscriber => subscriber.notify(this.pixelState));\n  }\n}\n","import App from './components/App';\n\nconst app = new App();\n\napp.start();\n\n// /* eslint-disable no-use-before-define */\n// let context = document.getElementById('canvas').getContext('2d');\n// const canvas = document.getElementById('canvas');\n// context = canvas.getContext('2d');\n// context.strokeStyle = '#ff0000';\n// context.lineJoin = 'round';\n// context.lineWidth = 16;\n\n// const clickX = [];\n// const clickY = [];\n// const clickDrag = [];\n// let paint;\n\n// /**\n//  * Add information where the user clicked at.\n//  * @param {number} x\n//  * @param {number} y\n//  * @return {boolean} dragging\n//  */\n// function addClick(x, y, dragging) {\n//   clickX.push(x);\n//   clickY.push(y);\n//   clickDrag.push(dragging);\n// }\n\n// /**\n//  * Redraw the complete canvas.\n//  */\n// // eslint-disable-next-line no-unused-vars\n// // function redraw() {\n// //   // Clears the canvas\n// //   context.clearRect(0, 0, context.canvas.width, context.canvas.height);\n\n// //   for (let i = 0; i < clickX.length; i += 1) {\n// //     if (!clickDrag[i] && i === 0) {\n// //       context.beginPath();\n// //       context.moveTo(clickX[i], clickY[i]);\n// //       context.stroke();\n// //     } else if (!clickDrag[i] && i > 0) {\n// //       context.closePath();\n\n// //       context.beginPath();\n// //       context.moveTo(clickX[i], clickY[i]);\n// //       context.stroke();\n// //     } else {\n// //       context.lineTo(clickX[i], clickY[i]);\n// //       context.stroke();\n// //     }\n// //   }\n// // }\n\n// /**\n//  * Draw the newly added point.\n//  * @return {void}\n//  */\n// function drawNew() {\n//   const i = clickX.length - 1;\n//   if (!clickDrag[i]) {\n//     if (clickX.length === 0) {\n//       context.beginPath();\n//       context.moveTo(clickX[i], clickY[i]);\n//       context.stroke();\n//     } else {\n//       context.closePath();\n\n//       context.beginPath();\n//       context.moveTo(clickX[i], clickY[i]);\n//       context.stroke();\n//     }\n//   } else {\n//     context.lineTo(clickX[i], clickY[i]);\n//     context.stroke();\n//   }\n// }\n\n// function mouseDownEventHandler(e) {\n//   paint = true;\n//   const x = e.pageX - canvas.offsetLeft;\n//   const y = e.pageY - canvas.offsetTop;\n//   if (paint) {\n//     addClick(x, y, false);\n//     drawNew();\n//   }\n// }\n\n\n// function mouseUpEventHandler() {\n//   context.closePath();\n//   paint = false;\n// }\n\n// function mouseMoveEventHandler(e) {\n//   const x = e.pageX - canvas.offsetLeft;\n//   const y = e.pageY - canvas.offsetTop;\n//   if (paint) {\n//     addClick(x, y, true);\n//     drawNew();\n//   }\n// }\n\n// function removeRaceHandlers() {\n//   canvas.removeEventListener('mousedown', mouseWins);\n// }\n\n// function setUpHandler(detectEvent) {\n//   removeRaceHandlers();\n//   canvas.addEventListener('mouseup', mouseUpEventHandler);\n//   canvas.addEventListener('mousemove', mouseMoveEventHandler);\n//   canvas.addEventListener('mousedown', mouseDownEventHandler);\n//   mouseDownEventHandler(detectEvent);\n// }\n\n// function mouseWins(e) {\n//   setUpHandler(true, e);\n// }\n\n// canvas.addEventListener('mousedown', mouseWins);\n","/* eslint-disable max-len */\n/* eslint-disable class-methods-use-this */\nimport Canvas from './canvas/index';\nimport Palette from './palette/index';\nimport Toolbox from './toolbox/index';\nimport PixelState from './PixelState';\n\nexport default class App {\n  constructor() {\n    this.color = '#000000';\n    this.pixelCount = 32;\n    this.getColor = this.getColor.bind(this);\n    this.onColorChange = this.onColorChange.bind(this);\n    this.getActiveTool = this.getActiveTool.bind(this);\n    this.setActiveTool = this.setActiveTool.bind(this);\n    this.getPixelCount = this.getPixelCount.bind(this);\n    this.setPixelCount = this.setPixelCount.bind(this);\n    this.processLoad = this.processLoad.bind(this);\n    this.activeTool = 'pen';\n    this.canvas = null;\n    this.palette = null;\n    this.toolbox = null;\n  }\n\n  onColorChange(color) {\n    this.color = color;\n  }\n\n  getColor() {\n    return this.color;\n  }\n\n  getActiveTool() {\n    return this.activeTool;\n  }\n\n  setActiveTool(activeTool) {\n    this.activeTool = activeTool;\n  }\n\n  getPixelCount() {\n    return this.pixelCount;\n  }\n\n  setPixelCount(pixelCount) {\n    this.pixelCount = +pixelCount;\n  }\n\n  processLoad() {\n    if (this.canvas && localStorage.getItem('pixelState')) {\n      this.canvas.setPixels(JSON.parse(localStorage.getItem('pixelState')));\n      this.canvas.drawPixels();\n    }\n  }\n\n  processUnload() {\n    if (localStorage.getItem('innerHtml')) {\n      localStorage.removeItem('innerHtml');\n      localStorage.removeItem('activeTool');\n    } else {\n      const htmlContents = document.documentElement.innerHTML;\n      localStorage.setItem('innerHtml', htmlContents);\n      localStorage.setItem('activeTool', this.activeTool);\n    }\n  }\n\n  start() {\n    this.palette = new Palette(this.onColorChange);\n    this.palette.addPalette();\n    this.toolbox = new Toolbox(this.setActiveTool, this.setPixelCount);\n    this.toolbox.addToolbox();\n    this.canvas = new Canvas(this.pixelCount, this.getColor, this.getActiveTool, this.getPixelCount);\n    this.canvas.addCanvas();\n    const pixelState = new PixelState();\n    this.canvas.subscribe(pixelState);\n    window.addEventListener('load', this.processLoad);\n    window.addEventListener('unload', this.processUnload);\n  }\n}\n"],"sourceRoot":""}